appId: com.omni.videodownloader
productName: Omni Video Downloader

directories:
  buildResources: resources
  output: dist

files:
  - "!**/.vscode/*"
  - "!src/*"
  - "!electron.vite.config.{js,ts,mjs,cjs}"
  - "!{.eslint*,prettier*}"
  - "!README.md"
  - out/**/*
  - package.json

# [핵심] 이제 이 설정이 제대로 동작할 것입니다!
extraResources:
  - from: "binaries"
    to: "binaries"
    filter:
      - "**/*"

publish:
  provider: github
  owner: thoven-jun
  repo: omni-video-downloader

mac:
  target: dmg
  artifactName: ${productName}-${version}-mac-${arch}.${ext}
  category: public.app-category.utilities
  hardenedRuntime: true
  gatekeeperAssess: false
  identity: null
  icon: resources/icon.png
  extendInfo:
    NSDownloadsFolderUsageDescription: "영상 저장을 위해 다운로드 폴더 접근 권한이 필요합니다."
    NSDocumentsFolderUsageDescription: "파일 저장을 위해 문서 폴더 접근 권한이 필요합니다."
  extraFiles:
    - "build/Click Me to Fix.command"

dmg:
  title: ${productName} ${version}
  background: "build/installer-bg.png"
  icon: "resources/icon.png"
  iconSize: 120
  contents:
    - x: 200
      y: 200
      type: "file"
    - x: 600
      y: 200
      type: "link"
      path: "/Applications"
    - x: 400
      y: 380
      type: "file"
      path: "build/Click Me to Fix.command"
  window:
    width: 800
    height: 500